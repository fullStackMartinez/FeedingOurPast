<navbar></navbar>

<section>
	<div class="container mt-5 pt-5">
		<div class="row justify-content-center">
			<!-- left column for new post form -->
			<div class="col-lg-5">
				<h3>Create a New Event Post</h3>
				<form id="createPostForm" name="createPostForm" [formGroup]="createPostForm" (submit)="createPost();" class="form-horizontal" novalidate>
					<small id="formRequired" class="form-text text-danger">*Required fields</small>

					<!-- post title group -->
					<div class="form-group">
						<label for="postTitle">Event Title <span class="text-danger">*</span></label>
						<input type="text" formControlName="postTitle" class="form-control" id="postTitle" placeholder="Title of event">
						<div *ngIf="createPostForm.controls.postTitle?.invalid && createPostForm.controls.postTitle?.touched" class="alert alert-danger" role="alert">
							<div *ngIf="createPostForm.controls.postTitle?.errors.required">Title is required.</div>
							<div *ngIf="createPostForm.controls.postTitle?.errors.maxlength">Title is too long. {{createPostForm.controls.postTitle?.errors.maxlength.actualLength - createPostForm.controls.postTitle?.errors.maxlength.requiredLength}} too many characters.</div>
						</div>
					</div>

					<!-- post start date group -->
					<div class="form-group">
						<label for="postStartDate">Event Start Date <span class="text-danger">*</span></label>
						<input type="text" class="form-control" id="postStartDate" placeholder="Start date">
					</div>
					<div class="form-group">
						<label for="postEndDate">Event End Date <span class="text-danger">*</span></label>
						<input type="text" class="form-control" id="postEndDate" placeholder="End date">
					</div>
					<div class="form-group">
						<label for="postContent">Event Description <span class="text-danger">*</span></label>
						<textarea class="form-control" rows="10" id="postContent" placeholder="Description of event"></textarea>
					</div>
<!--					<div class="form-group">
						<label for="postImageUrl">Image?? </label>
						<input type="text" class="form-control" id="postImageUrl" placeholder="URL for image??">
					</div> -->
					<button type="submit" class="btn btn-primary">Submit</button>
				</form>
			</div>

			<!-- empty middle column for spacing -->
			<div class="col-lg-1"></div>

			<!-- right column for event posts -->
			<div class="col-md-6 mt-5">
				<h2>Upcoming Events</h2>
				<!-- begin post item -->
				<div *ngFor="let post of posts" class="card">
					<div class="card-body">
						<h4 class="card-title">{{ post.postTitle }}</h4>
						<p class="card-text">{{ post.postContent }}</p>
						<div class="small text-muted">
							<p>
								Organization: {{ post.postWriter }}<br>
								Event Start Date: {{ post.postStartDateTime | date:'M/d/yy' }}<br>
								Event End Date: {{ post.postEndDateTime | date:'M/d/yy' }}
							</p>
						</div>
						<button class="post-delete btn btn-sm btn-danger">Delete</button>
					</div>
				</div>
				<!-- end post item -->
			</div>
		</div>
	</div>
</section>